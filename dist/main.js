!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n(1);var o,i=n(6);new((o=i)&&o.__esModule?o:{default:o}).default},function(t,e,n){var o=n(2);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"html,body{font-family:'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;font-size:10px;word-spacing:0;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box;color:#030303;background-color:#f9f8f7}*,*:before,*:after{box-sizing:border-box;margin:0}.wrapper{max-width:1340px;padding:10px 30px;margin:0 auto}.title{font-size:24px;line-height:32px;padding:4px 0}.container{width:100%;border:1px solid #dcdada}.container__body{height:100%}.container__body--scroll{overflow:hidden;overflow-x:auto}.container__lists{display:inline-block;height:100%;min-width:100%;white-space:nowrap;padding:8px 4px}.list{display:inline-block;vertical-align:top;height:100%;width:280px;padding:0 4px;white-space:normal}.list__box{height:100%;background-color:#f1f0f0;border:1px solid #dcdada}.list__head{height:41px;padding:8px;border-bottom:1px solid #dcdada}.list__head:after{content:'';display:block;width:100%;height:0;clear:both}.list__name{display:block;float:left;font-size:16px;line-height:24px}.list__body{width:100%}.list__body--scroll{overflow:hidden;overflow-y:auto;height:160px}.list__items{display:block;padding:4px 8px;width:100%;min-height:80px}.item{display:block;padding:4px 0}.item__box{padding:8px;border:1px solid #dcdada;background-color:#f9f8f7;font-weight:600;font-size:14px;line-height:18px}.item[data-pd-drag] .item__box{opacity:0.5}.item[data-pd-ghost] .item__box{box-shadow:0 0 4px 0 rgba(0,0,0,0.2)}\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(r).concat([i]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];null!=s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var o,i,r={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),a=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),u=null,l=0,c=[],d=n(5);function h(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(m(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(m(o.parts[s],e));r[o.id]={id:o.id,refs:1,parts:a}}}}function f(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function p(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,n);n.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return b(e,t.attrs),p(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,o,i,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var s=l++;n=u||(u=g(e)),o=E.bind(null,n,s,!1),i=E.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),p(t,e),e}(e),o=function(t,e,n){var o=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=d(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return h(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var s=n[i];(a=r[s.id]).refs--,o.push(a)}t&&h(f(t,e),e);for(i=0;i<o.length;i++){var a;if(0===(a=o[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete r[a.id]}}}};var y,x=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function E(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(7),s=(o=r)&&o.__esModule?o:{default:o};var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dragEl=null,this.dropEl=null,this.ghostEl=null,this.dragging=!1,this.touchTimeout=null,this.startPoint=null,this.movePoint=null,this.onTouchTimeout=this.onTouchTimeout.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.eventOptions=this.getEventOptions(),this.body=document.getElementsByTagName("body")[0],this.scrollEl=document.scrollingElement||document.documentElement||document,this.bindPassiveEvents()}return i(t,[{key:"getEventOptions",value:function(){var t=!1;try{var e=function(){},n=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});window.addEventListener("check-passive",e,n),window.removeEventListener("check-passive",e,n)}catch(e){t=!1}return!!t&&{passive:!1}}},{key:"closest",value:function(t,e){for(;t&&t!==this.body;){if(e(t))return t;t=t.parentNode}return null}},{key:"getPoint",value:function(t){var e=t.touch||!!t.touches&&t.touches[0];return e||(e=t),new s.default(e.clientX,e.clientY)}},{key:"closestContainer",value:function(t){return this.closest(t,function(t){return t.hasAttribute("data-pd-drop-container")})}},{key:"closestDraggable",value:function(t){return this.closest(t,function(t){return t.hasAttribute("data-pd-draggable-item")})}},{key:"bindPassiveEvents",value:function(){document.addEventListener("mousedown",this.onMouseDown,this.eventOptions),document.addEventListener("touchstart",this.onTouchStart,this.eventOptions)}},{key:"bindActiveEvents",value:function(){document.addEventListener("mousemove",this.onMouseMove,this.eventOptions),document.addEventListener("mouseup",this.onMouseUp,this.eventOptions),document.addEventListener("touchmove",this.onTouchMove,this.eventOptions),document.addEventListener("touchend",this.onTouchEnd,this.eventOptions)}},{key:"unbindActiveEvents",value:function(){document.removeEventListener("mousemove",this.onMouseMove,this.eventOptions),document.removeEventListener("mouseup",this.onMouseUp,this.eventOptions),document.removeEventListener("touchmove",this.onTouchMove,this.eventOptions),document.removeEventListener("touchend",this.onTouchEnd,this.eventOptions)}},{key:"onMouseDown",value:function(t){var e=this.getPoint(t),n=this.closestDraggable(document.elementFromPoint(e.x,e.y));n&&(this.dragEl=n,this.startPoint=e,this.bindActiveEvents(),this.dragStart(e))}},{key:"onMouseMove",value:function(t){var e=this.getPoint(t);t.preventDefault(),this.dragMove(e)}},{key:"onMouseUp",value:function(){this.dragEnd(),this.unbindActiveEvents()}},{key:"onTouchTimeout",value:function(){this.dragStart(this.startPoint)}},{key:"onTouchStart",value:function(t){var e=this.getPoint(t),n=this.closestDraggable(document.elementFromPoint(e.x,e.y));n&&(this.dragEl=n,this.startPoint=e,this.bindActiveEvents(),this.touchTimeout=setTimeout(this.onTouchTimeout,200))}},{key:"onTouchMove",value:function(t){var e=this.getPoint(t);if(!this.dragging)return this.startPoint.checkAxisOffset(e,4)&&(clearTimeout(this.touchTimeout),this.unbindActiveEvents()),void(this.movePoint=e);t.preventDefault(),this.dragMove(e)}},{key:"onTouchEnd",value:function(){clearTimeout(this.touchTimeout),this.dragEnd(),this.unbindActiveEvents()}},{key:"createGhost",value:function(){var t=this.dragEl.getBoundingClientRect();this.ghostEl=this.dragEl.cloneNode(!0),this.ghostEl.style.position="absolute",this.ghostEl.style.top=t.y-this.startPoint.y+"px",this.ghostEl.style.left=t.x-this.startPoint.x+"px",this.ghostEl.style.width=t.width+"px",this.ghostEl.style.height=t.height+"px",this.ghostEl.style.pointerEvents="none",this.updateGhostPosition(this.startPoint),document.body.appendChild(this.ghostEl),this.ghostEl.setAttribute("data-pd-ghost","")}},{key:"updateGhostPosition",value:function(t){var e=new s.default(this.scrollEl.scrollLeft,this.scrollEl.scrollTop).add(t);this.ghostEl.style.transform="translate("+e.x+"px, "+e.y+"px)"}},{key:"destroyGhost",value:function(){this.ghostEl.parentNode.removeChild(this.ghostEl)}},{key:"dragStart",value:function(){this.dragging=!0,this.dropEl=this.closestContainer(this.dragEl),this.movePoint&&(this.startPoint=this.movePoint),this.createGhost(),this.dragEl.setAttribute("data-pd-drag","")}},{key:"dragMove",value:function(t){var e=this;this.updateGhostPosition(t);var n=this.closestContainer(document.elementFromPoint(t.x,t.y));n&&(n===this.dropEl||this.closest(n,function(t){return t===e.dragEl})||(this.dropEl=n,this.dropEl.appendChild(this.dragEl)))}},{key:"dragEnd",value:function(){this.dragging=!1,this.destroyGhost(),this.dragEl.removeAttribute("data-pd-drag"),this.dragEl=null,this.dropEl=null}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}return o(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"diff",value:function(e){return new t(e.x-this.x,e.y-this.y)}},{key:"checkAxisOffset",value:function(t,e){return Math.abs(t.x-this.x)>e||Math.abs(t.y-this.y)>e}}]),t}();e.default=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvbWFpbi5zY3NzPzdjYWMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Njc3MvbWFpbi5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcG9pbnQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfZHJhZ2dhYmxlIiwiRHJhZ2dhYmxlIiwiY29udGVudCIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwidW5kZWZpbmVkIiwibG9jYWxzIiwicHVzaCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwiZGVmYXVsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiX3BvaW50IiwiUG90YXRvRHJhZ2dhYmxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiZHJhZ0VsIiwiZHJvcEVsIiwiZ2hvc3RFbCIsImRyYWdnaW5nIiwidG91Y2hUaW1lb3V0Iiwic3RhcnRQb2ludCIsIm1vdmVQb2ludCIsIm9uVG91Y2hUaW1lb3V0Iiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsImV2ZW50T3B0aW9ucyIsImdldEV2ZW50T3B0aW9ucyIsImJvZHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcm9sbEVsIiwic2Nyb2xsaW5nRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsImJpbmRQYXNzaXZlRXZlbnRzIiwicGFzc2l2ZVN1cHBvcnQiLCJjYiIsIm9wdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsIm1hdGNoIiwicG9pbnQiLCJ0b3VjaCIsInRvdWNoZXMiLCJQb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwiY2xvc2VzdCIsImhhc0F0dHJpYnV0ZSIsImdldFBvaW50IiwiY2xvc2VzdERyYWdnYWJsZSIsImVsZW1lbnRGcm9tUG9pbnQiLCJ4IiwieSIsImJpbmRBY3RpdmVFdmVudHMiLCJkcmFnU3RhcnQiLCJwcmV2ZW50RGVmYXVsdCIsImRyYWdNb3ZlIiwiZHJhZ0VuZCIsInVuYmluZEFjdGl2ZUV2ZW50cyIsInNldFRpbWVvdXQiLCJjaGVja0F4aXNPZmZzZXQiLCJjbGVhclRpbWVvdXQiLCJkcmFnRWxSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xvbmVOb2RlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludGVyRXZlbnRzIiwidXBkYXRlR2hvc3RQb3NpdGlvbiIsIm5ld1BvaW50Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImFkZCIsImNsb3Nlc3RDb250YWluZXIiLCJjcmVhdGVHaG9zdCIsIl90aGlzIiwiZGVzdHJveUdob3N0IiwicmVtb3ZlQXR0cmlidXRlIiwibGltaXQiLCJNYXRoIiwiYWJzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVB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LElBQUkzQyxFQUFNWSxFQUFJbEwsS0FBS2tMLEdBQUs2QixxQkFJaEV0QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0ICcuL3Njc3MvbWFpbi5zY3NzJztcbmltcG9ydCBEcmFnZ2FibGUgZnJvbSAnLi9kcmFnZ2FibGUnO1xuXG5uZXcgRHJhZ2dhYmxlKCk7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYWluLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vbWFpbi5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYWluLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsYm9keXtmb250LWZhbWlseTonU291cmNlIFNhbnMgUHJvJywgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sICdIZWx2ZXRpY2EgTmV1ZScsIEFyaWFsLCBzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxMHB4O3dvcmQtc3BhY2luZzowOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOiMwMzAzMDM7YmFja2dyb3VuZC1jb2xvcjojZjlmOGY3fSosKjpiZWZvcmUsKjphZnRlcntib3gtc2l6aW5nOmJvcmRlci1ib3g7bWFyZ2luOjB9LndyYXBwZXJ7bWF4LXdpZHRoOjEzNDBweDtwYWRkaW5nOjEwcHggMzBweDttYXJnaW46MCBhdXRvfS50aXRsZXtmb250LXNpemU6MjRweDtsaW5lLWhlaWdodDozMnB4O3BhZGRpbmc6NHB4IDB9LmNvbnRhaW5lcnt3aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgI2RjZGFkYX0uY29udGFpbmVyX19ib2R5e2hlaWdodDoxMDAlfS5jb250YWluZXJfX2JvZHktLXNjcm9sbHtvdmVyZmxvdzpoaWRkZW47b3ZlcmZsb3cteDphdXRvfS5jb250YWluZXJfX2xpc3Rze2Rpc3BsYXk6aW5saW5lLWJsb2NrO2hlaWdodDoxMDAlO21pbi13aWR0aDoxMDAlO3doaXRlLXNwYWNlOm5vd3JhcDtwYWRkaW5nOjhweCA0cHh9Lmxpc3R7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO2hlaWdodDoxMDAlO3dpZHRoOjI4MHB4O3BhZGRpbmc6MCA0cHg7d2hpdGUtc3BhY2U6bm9ybWFsfS5saXN0X19ib3h7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjojZjFmMGYwO2JvcmRlcjoxcHggc29saWQgI2RjZGFkYX0ubGlzdF9faGVhZHtoZWlnaHQ6NDFweDtwYWRkaW5nOjhweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZGNkYWRhfS5saXN0X19oZWFkOmFmdGVye2NvbnRlbnQ6Jyc7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDowO2NsZWFyOmJvdGh9Lmxpc3RfX25hbWV7ZGlzcGxheTpibG9jaztmbG9hdDpsZWZ0O2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjI0cHh9Lmxpc3RfX2JvZHl7d2lkdGg6MTAwJX0ubGlzdF9fYm9keS0tc2Nyb2xse292ZXJmbG93OmhpZGRlbjtvdmVyZmxvdy15OmF1dG87aGVpZ2h0OjE2MHB4fS5saXN0X19pdGVtc3tkaXNwbGF5OmJsb2NrO3BhZGRpbmc6NHB4IDhweDt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6ODBweH0uaXRlbXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6NHB4IDB9Lml0ZW1fX2JveHtwYWRkaW5nOjhweDtib3JkZXI6MXB4IHNvbGlkICNkY2RhZGE7YmFja2dyb3VuZC1jb2xvcjojZjlmOGY3O2ZvbnQtd2VpZ2h0OjYwMDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxOHB4fS5pdGVtW2RhdGEtcGQtZHJhZ10gLml0ZW1fX2JveHtvcGFjaXR5OjAuNX0uaXRlbVtkYXRhLXBkLWdob3N0XSAuaXRlbV9fYm94e2JveC1zaGFkb3c6MCAwIDRweCAwIHJnYmEoMCwwLDAsMC4yKX1cXG5cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuXG5jbGFzcyBQb3RhdG9EcmFnZ2FibGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRyYWdFbCA9IG51bGw7XG4gICAgdGhpcy5kcm9wRWwgPSBudWxsO1xuICAgIHRoaXMuZ2hvc3RFbCA9IG51bGw7XG5cbiAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgdGhpcy50b3VjaFRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuc3RhcnRQb2ludCA9IG51bGw7XG4gICAgdGhpcy5tb3ZlUG9pbnQgPSBudWxsO1xuXG4gICAgdGhpcy5vblRvdWNoVGltZW91dCA9IHRoaXMub25Ub3VjaFRpbWVvdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVG91Y2hTdGFydCA9IHRoaXMub25Ub3VjaFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblRvdWNoTW92ZSA9IHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVG91Y2hFbmQgPSB0aGlzLm9uVG91Y2hFbmQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMub25Nb3VzZURvd24gPSB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTW91c2VVcCA9IHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmV2ZW50T3B0aW9ucyA9IHRoaXMuZ2V0RXZlbnRPcHRpb25zKCk7XG4gICAgdGhpcy5ib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgICB0aGlzLnNjcm9sbEVsID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQ7XG5cbiAgICB0aGlzLmJpbmRQYXNzaXZlRXZlbnRzKCk7XG4gIH1cblxuICBnZXRFdmVudE9wdGlvbnMoKSB7XG4gICAgbGV0IHBhc3NpdmVTdXBwb3J0ID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNiID0gKCkgPT4ge307XG4gICAgICBjb25zdCBvcHQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgICAgICBnZXQoKSB7IHBhc3NpdmVTdXBwb3J0ID0gdHJ1ZTsgcmV0dXJuIHRydWU7IH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NoZWNrLXBhc3NpdmUnLCBjYiwgb3B0KTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGVjay1wYXNzaXZlJywgY2IsIG9wdCk7XG4gICAgfSBjYXRjaCAoZSkgeyBwYXNzaXZlU3VwcG9ydCA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2U7XG4gIH1cblxuICBjbG9zZXN0KGVsLCBtYXRjaCkge1xuICAgIGZvciAoO2VsICYmIGVsICE9PSB0aGlzLmJvZHk7KSB7XG4gICAgICBpZiAobWF0Y2goZWwpKSByZXR1cm4gZWw7XG4gICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0UG9pbnQoZSkge1xuICAgIGxldCBwb2ludCA9IGUudG91Y2ggfHwgKGUudG91Y2hlcyA/IGUudG91Y2hlc1sgMCBdIDogZmFsc2UpO1xuICAgIGlmICghcG9pbnQpIHBvaW50ID0gZTtcbiAgICByZXR1cm4gbmV3IFBvaW50KHBvaW50LmNsaWVudFgsIHBvaW50LmNsaWVudFkpO1xuICB9XG5cbiAgY2xvc2VzdENvbnRhaW5lcihlbCkge1xuICAgIHJldHVybiB0aGlzLmNsb3Nlc3QoZWwsIGVsID0+IGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1wZC1kcm9wLWNvbnRhaW5lcicpKTtcbiAgfVxuXG4gIGNsb3Nlc3REcmFnZ2FibGUoZWwpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9zZXN0KGVsLCBlbCA9PiBlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtcGQtZHJhZ2dhYmxlLWl0ZW0nKSk7XG4gIH1cblxuICBiaW5kUGFzc2l2ZUV2ZW50cygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gIH1cblxuICBiaW5kQWN0aXZlRXZlbnRzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMuZXZlbnRPcHRpb25zKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAsIHRoaXMuZXZlbnRPcHRpb25zKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQsIHRoaXMuZXZlbnRPcHRpb25zKTtcbiAgfVxuXG4gIHVuYmluZEFjdGl2ZUV2ZW50cygpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSwgdGhpcy5ldmVudE9wdGlvbnMpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gIH1cblxuICBvbk1vdXNlRG93bihlKSB7XG4gICAgY29uc3QgcG9pbnQgPSB0aGlzLmdldFBvaW50KGUpO1xuXG4gICAgY29uc3QgZHJhZ0VsID0gdGhpcy5jbG9zZXN0RHJhZ2dhYmxlKGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocG9pbnQueCwgcG9pbnQueSkpO1xuICAgIGlmICghZHJhZ0VsKSByZXR1cm47XG5cbiAgICB0aGlzLmRyYWdFbCA9IGRyYWdFbDtcbiAgICB0aGlzLnN0YXJ0UG9pbnQgPSBwb2ludDtcblxuICAgIHRoaXMuYmluZEFjdGl2ZUV2ZW50cygpO1xuICAgIHRoaXMuZHJhZ1N0YXJ0KHBvaW50KTtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGUpIHtcbiAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2V0UG9pbnQoZSk7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5kcmFnTW92ZShwb2ludCk7XG4gIH1cblxuICBvbk1vdXNlVXAoKSB7XG4gICAgdGhpcy5kcmFnRW5kKCk7XG4gICAgdGhpcy51bmJpbmRBY3RpdmVFdmVudHMoKTtcbiAgfVxuXG4gIG9uVG91Y2hUaW1lb3V0KCkge1xuICAgIHRoaXMuZHJhZ1N0YXJ0KHRoaXMuc3RhcnRQb2ludCk7XG4gIH1cblxuICBvblRvdWNoU3RhcnQoZSkge1xuICAgIGNvbnN0IHBvaW50ID0gdGhpcy5nZXRQb2ludChlKTtcblxuICAgIGNvbnN0IGRyYWdFbCA9IHRoaXMuY2xvc2VzdERyYWdnYWJsZShkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHBvaW50LngsIHBvaW50LnkpKTtcbiAgICBpZiAoIWRyYWdFbCkgcmV0dXJuO1xuXG4gICAgdGhpcy5kcmFnRWwgPSBkcmFnRWw7XG4gICAgdGhpcy5zdGFydFBvaW50ID0gcG9pbnQ7XG5cbiAgICB0aGlzLmJpbmRBY3RpdmVFdmVudHMoKTtcbiAgICB0aGlzLnRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5vblRvdWNoVGltZW91dCwgMjAwKTtcbiAgfVxuXG4gIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2V0UG9pbnQoZSk7XG5cbiAgICBpZiAoIXRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgIGlmICh0aGlzLnN0YXJ0UG9pbnQuY2hlY2tBeGlzT2Zmc2V0KHBvaW50LCA0KSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50b3VjaFRpbWVvdXQpO1xuICAgICAgICB0aGlzLnVuYmluZEFjdGl2ZUV2ZW50cygpO1xuICAgICAgfVxuICAgICAgdGhpcy5tb3ZlUG9pbnQgPSBwb2ludDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5kcmFnTW92ZShwb2ludCk7XG4gIH1cblxuICBvblRvdWNoRW5kKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRvdWNoVGltZW91dCk7XG4gICAgdGhpcy5kcmFnRW5kKCk7XG4gICAgdGhpcy51bmJpbmRBY3RpdmVFdmVudHMoKTtcbiAgfVxuXG4gIGNyZWF0ZUdob3N0KCkge1xuICAgIGNvbnN0IGRyYWdFbFJlY3QgPSB0aGlzLmRyYWdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0aGlzLmdob3N0RWwgPSB0aGlzLmRyYWdFbC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5naG9zdEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLmdob3N0RWwuc3R5bGUudG9wID0gYCR7KGRyYWdFbFJlY3QueSAtIHRoaXMuc3RhcnRQb2ludC55KX1weGA7XG4gICAgdGhpcy5naG9zdEVsLnN0eWxlLmxlZnQgPSBgJHsoZHJhZ0VsUmVjdC54IC0gdGhpcy5zdGFydFBvaW50LngpfXB4YDtcbiAgICB0aGlzLmdob3N0RWwuc3R5bGUud2lkdGggPSBgJHtkcmFnRWxSZWN0LndpZHRofXB4YDtcbiAgICB0aGlzLmdob3N0RWwuc3R5bGUuaGVpZ2h0ID0gYCR7ZHJhZ0VsUmVjdC5oZWlnaHR9cHhgO1xuICAgIHRoaXMuZ2hvc3RFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG4gICAgdGhpcy51cGRhdGVHaG9zdFBvc2l0aW9uKHRoaXMuc3RhcnRQb2ludCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZ2hvc3RFbCk7XG5cbiAgICB0aGlzLmdob3N0RWwuc2V0QXR0cmlidXRlKCdkYXRhLXBkLWdob3N0JywgJycpO1xuICB9XG5cbiAgdXBkYXRlR2hvc3RQb3NpdGlvbihwb2ludCkge1xuICAgIGNvbnN0IG5ld1BvaW50ID0gbmV3IFBvaW50KHRoaXMuc2Nyb2xsRWwuc2Nyb2xsTGVmdCwgdGhpcy5zY3JvbGxFbC5zY3JvbGxUb3ApLmFkZChwb2ludCk7XG4gICAgdGhpcy5naG9zdEVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtuZXdQb2ludC54fXB4LCAke25ld1BvaW50Lnl9cHgpYDtcbiAgfVxuXG4gIGRlc3Ryb3lHaG9zdCgpIHtcbiAgICB0aGlzLmdob3N0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmdob3N0RWwpO1xuICB9XG5cbiAgZHJhZ1N0YXJ0KCkge1xuICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5kcm9wRWwgPSB0aGlzLmNsb3Nlc3RDb250YWluZXIodGhpcy5kcmFnRWwpO1xuICAgIGlmICh0aGlzLm1vdmVQb2ludCkgdGhpcy5zdGFydFBvaW50ID0gdGhpcy5tb3ZlUG9pbnQ7XG5cbiAgICB0aGlzLmNyZWF0ZUdob3N0KCk7XG5cbiAgICB0aGlzLmRyYWdFbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGQtZHJhZycsICcnKTtcbiAgfVxuXG4gIGRyYWdNb3ZlKHBvaW50KSB7XG4gICAgdGhpcy51cGRhdGVHaG9zdFBvc2l0aW9uKHBvaW50KTtcblxuICAgIGNvbnN0IGRyb3BFbCA9IHRoaXMuY2xvc2VzdENvbnRhaW5lcihkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHBvaW50LngsIHBvaW50LnkpKTtcbiAgICBpZiAoIWRyb3BFbCkgcmV0dXJuO1xuXG4gICAgaWYgKFxuICAgICAgZHJvcEVsICE9PSB0aGlzLmRyb3BFbCAmJlxuICAgICAgIXRoaXMuY2xvc2VzdChkcm9wRWwsIGVsID0+IGVsID09PSB0aGlzLmRyYWdFbClcbiAgICApIHtcbiAgICAgIHRoaXMuZHJvcEVsID0gZHJvcEVsO1xuICAgICAgdGhpcy5kcm9wRWwuYXBwZW5kQ2hpbGQodGhpcy5kcmFnRWwpO1xuICAgIH1cbiAgfVxuXG4gIGRyYWdFbmQoKSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5kZXN0cm95R2hvc3QoKTtcblxuICAgIHRoaXMuZHJhZ0VsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1wZC1kcmFnJyk7XG4gICAgdGhpcy5kcmFnRWwgPSBudWxsO1xuICAgIHRoaXMuZHJvcEVsID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3RhdG9EcmFnZ2FibGU7XG4iLCJjbGFzcyBQb2ludCB7XG4gIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbiAgfVxuXG4gIGFkZChwb2ludCkge1xuICAgIHRoaXMueCArPSBwb2ludC54O1xuICAgIHRoaXMueSArPSBwb2ludC55O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZGlmZihwb2ludCkge1xuICAgIHJldHVybiBuZXcgUG9pbnQocG9pbnQueCAtIHRoaXMueCwgcG9pbnQueSAtIHRoaXMueSk7XG4gIH1cblxuICBjaGVja0F4aXNPZmZzZXQocG9pbnQsIGxpbWl0KSB7XG4gICAgcmV0dXJuIChNYXRoLmFicyhwb2ludC54IC0gdGhpcy54KSA+IGxpbWl0IHx8IE1hdGguYWJzKHBvaW50LnkgLSB0aGlzLnkpID4gbGltaXQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==